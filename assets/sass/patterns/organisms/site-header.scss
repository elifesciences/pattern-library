@import "../../definitions";

.site-header {
  max-height: 96px;
  min-width: #{get-rem-from-px(275)}rem;
  position: relative;
  z-index: 20;

  .search-box {
    background-color: #fff;
    display: none;

    &.search-box--js {
      display: block;
      visibility: visible;
      position: absolute;
      top: -20px;
      transition: transform 150ms;
      width: 100%;
      z-index: 5;

      // Justified breach of the css selector 3-clause-rule, as this controls different states of the same element
      &:not(.search-box--shown) {
        visibility: hidden;
      }

    }
  }

}

.search-box__output {
  background-color: #fff;
  z-index: 10;
}

.search-box__search_option {
  position: relative;
  z-index: 5;
}

.site-header__title {
  float: left;
  position: relative;
  z-index: 21;
}

.site-header__logo_link {
  background: url("../img/patterns/organisms/elife-logo-cropped-xs.svg") 0 0 no-repeat;
  display: block;
  height: 35px;
  width: 88px;

  // Lock-out IE 11. Dirty :-(
  @supports (display: flex) {
    background: none;
  }
}

.site-header__logo_link_image {
  display: none;

  // Lock-out IE 11. Dirty :-(
  @supports (display: flex) {
    display: block;
  }

}

.site-header__navigation {
  @include margin(28, "top");
  @include margin(28, "bottom");
  @include padding(24, "left");
  @include padding(24, "right");
  align-items: center;
  background-color: #fff;
  display: flex;
  justify-content: space-between;
  position: relative;
  z-index: 20;
}

.site-header__navigation__item {
  align-items: center;
  display: flex;
  justify-content: space-between;
  width: 100%;
}

.site-header__skip_to_content {
  display: block;
  position: absolute;
  top: 20px;
  left: 20px;
  white-space: nowrap;
}

.site-header__skip_to_content__link {
  @include visuallyhidden();
  @include padding(15 36 14);
  z-index: 50;

  &:focus {
    @include visuallyunhidden();
    position: absolute;
  }
}

@media only all and (min-width: #{get-rem-from-px($bkpt-site--small)}em) {
  .site-header__navigation {
    @include padding(41, "left");
    @include padding(41, "right");
  }
}

@media only all and (min-width: #{get-rem-from-px($bkpt-site--medium)}em) {

  .site-header__title {
    float: left;
    position: relative;
    width: 88px;
  }

  // Stops the top border of .nav-primary from bleeding into site-header__title.

  .site-header__logo_link {
    @include margin(0);
    background: none;
    display: block;
    float: right;
    height: 35px;
    position: relative;
    width: 88px;
    z-index: 10;
  }

  .site-header__logo_link_image {
    display: block;
  }
}

@media only screen and (min-width: #{get-rem-from-px($bkpt-site--wide)}em) {
  .site-header__border {
    @include margin(15, "left");
    border-right: 1px solid $color-text-dividers;
    height: 24px;
    z-index: 50;
  }

  .site-header__navigation__item {
    justify-content: flex-start;
  }
}

.overlay {
  @include overlay();
}
