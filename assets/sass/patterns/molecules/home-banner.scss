@import "../../mixins";
@import "../../variables";

:root {
  --home-banner-background-color: rgba(237, 245, 250, 1);
  --banner-min-height: 276px;
  --subjects-height--narrow: 76px;
  --subjects-height--medium: 102px;
  --subjects-height--x-wide: 364px;
  --subjects-height: var(--subjects-height--narrow);
  --max-height-of-banner-and-subjects-and-site-header--narrow: 540px;  // Designer intent
  --max-height-of-banner-and-subjects-and-site-header: var(--max-height-of-banner-and-subjects-and-site-header--narrow);
  --max-height-of-banner-and-subjects-and-site-header-js: var(--max-height-of-banner-and-subjects-and-site-header);
  --max-height-of-banner-and-subjects-and-site-header-js-offset: 0rem;

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--medium)}em) {
    --subjects-height: var(--subjects-height--medium);
    --banner-min-height: calc(440px - var(--subjects-height));
  }

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--wide)}em) {
    --banner-min-height: calc(449px - var(--subjects-height));
  }

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--home-hero-banner-additional-wider)}em) {
    --banner-min-height: calc(570px - var(--subjects-height));
  }

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--x-wide)}em) {
    --subjects-height-js-offset: calc(var(--subjects-height--x-wide) - var(--subjects-height));
  }

  --site-header-height: 95px;

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--wide)}em) {
    --site-header-height: 119px;
  }

  --min-height-of-banner-and-subjects-and-site-header: calc(var(--banner-min-height) + var(--subjects-height) + var(--site-header-height));
  --max-height-of-banner-and-subjects: calc(var(--max-height-of-banner-and-subjects-and-site-header) - var(--site-header-height));
  --min-height-of-banner-and-subjects: calc(var(--min-height-of-banner-and-subjects-and-site-header) - var(--site-header-height));
  --max-height-of-banner-and-subjects-js: calc(var(--max-height-of-banner-and-subjects) + var(--subjects-height-js-offset));
  --min-height-of-banner-and-subjects-js: calc(var(--min-height-of-banner-and-subjects) + var(--subjects-height-js-offset));
}

.banner-and-subjects-wrapper {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: calc(100vh - var(--site-header-height));
  max-height: var(--max-height-of-banner-and-subjects);
  min-height: var(--min-height-of-banner-and-subjects);

  .js & {
    max-height: var(--max-height-of-banner-and-subjects-js);
    min-height: var(--min-height-of-banner-and-subjects-js);
  }
}

.home-banner {
  --home-banner-image-offset: 48px;

  background-color: var(--home-banner-background-color);
  flex-grow: 1;
  flex-shrink: 0;
  flex-basis: var(--banner-min-height);
  display: flex;
  flex-direction: column;
  justify-content: center;

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--medium)}em) {
    --image-min-width: 354px;
    --image-preferred-width: 40%;
    --image-max-width: 500px;
    background-image: url("../img/patterns/molecules/home-banner-dots-dashes.svg");
    background-repeat: no-repeat;
    background-position: bottom right var(--home-banner-image-offset);
    background-size: clamp( var(--image-min-width), var(--image-preferred-width), var(--image-max-width));
    align-items: start;
  }

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--wide)}em) {
    --image-min-width: 354px;
    --image-preferred-width: 40%;
    --image-max-width: 369px;
    background-size: clamp( var(--image-min-width), var(--image-preferred-width), var(--image-max-width));
  }

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--home-hero-banner-additional-wider)}em) {
    --image-min-width: 450px;
    --image-preferred-width: 40%;
    --image-max-width: 500px;
    background-size: clamp( var(--image-min-width), var(--image-preferred-width), var(--image-max-width));
  }

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--home-hero-banner-additional-widest)}em) {
    --home-banner-max-width: #{get-rem-from-px($bkpt-site--home-hero-banner-additional-widest)}rem;
    --home-banner-gutter: calc((100vw - var(--home-banner-max-width)) / 2);

    padding-inline: var(--home-banner-gutter);
    background-position: bottom right calc(var(--home-banner-gutter) + var(--home-banner-image-offset));
  }
}

.home-banner__content {
  @include wrapper($isHomePage: true);
  margin: unset;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--small)}em) {
    padding-inline: #{$site-spacing}px;
  }

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--medium)}em) {
    padding-inline: #{$site-spacing-large}px;
  }
}

.home-banner__title {
  @include margin(36, "bottom");

  font-size: clamp(26px, 8vw, 36px);
  line-height: 1.3;
  text-align: center;

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--small)}em) {
    font-size: clamp(40px, 7vw, 50px);
    line-height: 1.25;
  }

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--medium)}em) {
    font-size: clamp(36px, 4.9vw, 60px);
    line-height: 1.2;
    text-align: left;
  }
}

.home-banner__title_line {
  display: block;
  color: $color-primary-dark--home-page;
}

.home-banner__title_line--alternative {
  color: $color-elife-blue;
}

.home-banner__buttons {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--small)}em) {
    flex-direction: row;
    justify-content: center;
  }

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--medium)}em) {
    flex-direction: column;
    align-items: unset;
  }

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--home-hero-banner-inline-buttons)}em) {
    display: block;
  }
}

.home-banner__button {
  @include margin(18, "bottom");
  padding-inline: #{get-rem-from-px(10)}rem;
  width: #{get-rem-from-px(225)}rem;
  display: block;
  text-transform: unset;
  font-weight: 600;

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--small)}em) {
    width: #{get-rem-from-px(204)}rem;
  }

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--medium)}em) {
    @include margin(12, "bottom");
  }

  @media only screen and (min-width: #{get-rem-from-px($bkpt-site--home-hero-banner-inline-buttons)}em) {
    display: inline-block;
  }

  &.button--default {
    border-color: $color-primary-dark--home-page;
    background-color: $color-primary-dark--home-page;
    color: $color-text--reverse;

    @media only screen and (min-width: #{get-rem-from-px($bkpt-site--small)}em) {
      margin-right: 12px;
    }
  }

  &.button--secondary {
    border-color: $color-text-ui-background-secondary-grey-homepage;
    background-color: $color-text-ui-background-secondary-grey-homepage;
    color: $color-primary-dark--home-page;
  }
}
