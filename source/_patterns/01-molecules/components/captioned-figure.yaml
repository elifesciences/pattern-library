assets:
  css:
    - captioned-figure.css
  js: []
schema:
  $schema: http://json-schema.org/draft-04/schema#
  type: object
  allOf:
    -
      oneOf:
        -
          properties:
            customContent:
              type: string
              minLength: 1
          required:
            - customContent
        -
          anyOf:
            -
              oneOf:
                -
                  properties:
                    heading:
                      type: string
                      minLength: 1
                  required:
                    - heading
            -
              oneOf:
                -
                  properties:
                    captions:
                      type: array
                      items:
                        type: object
                        properties:
                          caption:
                            type: string
                            minLength: 1
                        required:
                          - caption
                        minItems: 1
                  required:
                    - captions
    -
      oneOf:
        -
          properties:
            picture:
              $ref: ../../00-atoms/components/picture.yaml#/schema
          required:
            - picture
        -
          properties:
            video:
              $ref: ../../00-atoms/components/video.yaml#/schema
          required:
            - video
        -
          properties:
            table:
              type: string
              pattern: ^<table>.*<\/table>$
          required:
            - table
        -
          properties:
            image:
              type: object
              properties:
                defaultPath:
                  type: string
                  minLength: 1
                altText:
                  type: string
                classes:
                  type: string
                  minLength: 1
                srcset:
                  type: string
                  pattern: ^((https)?[^ ]+ [1-9][0-9]*w)(, (https?)?[^ ]+ [1-9][0-9]*w)*$
              required:
                - defaultPath
                - altText
          required:
            - image
