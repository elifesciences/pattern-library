assets:
  css:
    - captioned-asset.css
  js: []
schema:
  $schema: http://json-schema.org/draft-04/schema#
  type: object
  allOf:
    -
      properties:
        download:
          type: object
          properties:
            link:
              type: string
              minLength: 1
            filename:
              type: string
              minLength: 1
          required:
            - link
            - filename
        doi:
          $ref: ../../00-atoms/components/doi.yaml#/schema
        heading:
          type: string
          minLength: 1
        captionText:
          type: string
          minLength: 1
      dependencies:
        captiontext:
          - heading
    -
      oneOf:
        -
          properties:
            picture:
              $ref: ../../00-atoms/components/picture.yaml#/schema
          required:
            - picture
        -
          properties:
            video:
              $ref: ../../00-atoms/components/video.yaml#/schema
          required:
            - video
        -
          properties:
            tables:
              type: array
              minItems: 1
              items:
                type: string
                pattern: ^<table>.*<\/table>$
          required:
            - tables
        -
          properties:
            image:
              type: object
              properties:
                defaultPath:
                  type: string
                  minLength: 1
                altText:
                  type: string
                classes:
                  type: string
                  minLength: 1
                srcset:
                  type: string
                  pattern: ^((https)?[^ ]+ [1-9][0-9]*w)(, (https?)?[^ ]+ [1-9][0-9]*w)*$
              required:
                - defaultPath
                - altText
          required:
            - image
